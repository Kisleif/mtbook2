
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Datenanalyse: Klimadaten der NASA &#8212; Metrology Lecture Book</title>
    
  <link href="../../_static/css/theme.css" rel="stylesheet">
  <link href="../../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js"></script>
    <script async="async" kind="hypothesis" src="https://hypothes.is/embed.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="prev" title="Messabweichungen" href="Messabweichungen.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../../_static/i_mt.png" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">Metrology Lecture Book</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Dieses Buch durchsuchen ..." aria-label="Dieses Buch durchsuchen ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../../intro.html">
   Welcome
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Woche 1
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="Kurvenanpassung.html">
   Kurvenanpassung
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="Messabweichungen.html">
   Messabweichungen
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Datenanalyse: Klimadaten der NASA
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Navigation umschalten" aria-controls="site-navigation"
                title="Navigation umschalten" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Laden Sie diese Seite herunter"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/content/week1/Datenanalyse.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Quelldatei herunterladen" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="In PDF drucken"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/Kisleif/mtbook"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Quell-Repository"><i
                    class="fab fa-github"></i>Repository</button></a>
        <a class="issues-button"
            href="https://github.com/Kisleif/mtbook/issues/new?title=Issue%20on%20page%20%2Fcontent/week1/Datenanalyse.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Ã–ffnen Sie ein Problem"><i class="fas fa-lightbulb"></i>offenes Thema</button></a>
        <a class="edit-button" href="https://github.com/Kisleif/mtbook/edit/gh-pages/content/week1/Datenanalyse.ipynb"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Bearbeite diese Seite"><i class="fas fa-pencil-alt"></i>vorschlagen zu bearbeiten</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Vollbildmodus"
        title="Vollbildmodus"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/Kisleif/mtbook/gh-pages?urlpath=tree/content/week1/Datenanalyse.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Starten Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        <a class="jupyterhub-button" href="https://github.com/Kisleif/mtbook/hub/user-redirect/git-pull?repo=https://github.com/Kisleif/mtbook&urlpath=tree/mtbook/content/week1/Datenanalyse.ipynb&branch=gh-pages"><button type="button"
                class="btn btn-secondary topbarbtn" title="Starten JupyterHub" data-toggle="tooltip"
                data-placement="left"><img class="jupyterhub-button-logo"
                    src="../../_static/images/logo_jupyterhub.svg"
                    alt="Interact on JupyterHub">JupyterHub</button></a>
        
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Starten Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Inhalt
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#einlesen-von-klimadaten">
   Einlesen von Klimadaten
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#daten-plotten">
   Daten plotten
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#daten-verarbeiten">
   Daten verarbeiten
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#statistische-groszen-mittelwert-standardabweichung-min-max">
     Statistische GrÃ¶ÃŸen: Mittelwert, Standardabweichung, Min, Max
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#beispiel-maximum-und-zugehoriges-jahr-ausgeben">
     Beispiel: Maximum und zugehÃ¶riges Jahr ausgeben
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#beispiel-daten-aufsteigend-absteigend-sortieren">
     Beispiel: Daten aufsteigend/absteigend sortieren
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#daten-glatten">
   Daten glÃ¤tten
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#daten-bereinigen">
   Daten bereinigen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#temperaturabweichung-berechnen">
   Temperaturabweichung berechnen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#temperaturantstieg-mittels-linearer-regression-bestimmen">
   Temperaturantstieg mittels Linearer Regression bestimmen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aufgaben">
   <strong>
    Aufgaben
   </strong>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aufgabe-1-daten-aus-deutschland-glatten-und-plotten">
     Aufgabe 1: Daten aus Deutschland glÃ¤tten und plotten
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aufgabe-2-daten-zur-getrennten-betrachtung-von-land-und-ozeanerwarmung">
     Aufgabe 2: Daten zur getrennten Betrachtung von Land- und OzeanerwÃ¤rmung
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aufgabe-3-vergleich-der-datensets">
     Aufgabe 3: Vergleich der Datensets
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aufgabe-4-vergleich-der-grafik-mit-leopoldina">
     Aufgabe 4: Vergleich der Grafik mit Leopoldina
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Datenanalyse: Klimadaten der NASA</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Inhalt </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#einlesen-von-klimadaten">
   Einlesen von Klimadaten
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#daten-plotten">
   Daten plotten
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#daten-verarbeiten">
   Daten verarbeiten
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#statistische-groszen-mittelwert-standardabweichung-min-max">
     Statistische GrÃ¶ÃŸen: Mittelwert, Standardabweichung, Min, Max
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#beispiel-maximum-und-zugehoriges-jahr-ausgeben">
     Beispiel: Maximum und zugehÃ¶riges Jahr ausgeben
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#beispiel-daten-aufsteigend-absteigend-sortieren">
     Beispiel: Daten aufsteigend/absteigend sortieren
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#daten-glatten">
   Daten glÃ¤tten
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#daten-bereinigen">
   Daten bereinigen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#temperaturabweichung-berechnen">
   Temperaturabweichung berechnen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#temperaturantstieg-mittels-linearer-regression-bestimmen">
   Temperaturantstieg mittels Linearer Regression bestimmen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#aufgaben">
   <strong>
    Aufgaben
   </strong>
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aufgabe-1-daten-aus-deutschland-glatten-und-plotten">
     Aufgabe 1: Daten aus Deutschland glÃ¤tten und plotten
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aufgabe-2-daten-zur-getrennten-betrachtung-von-land-und-ozeanerwarmung">
     Aufgabe 2: Daten zur getrennten Betrachtung von Land- und OzeanerwÃ¤rmung
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aufgabe-3-vergleich-der-datensets">
     Aufgabe 3: Vergleich der Datensets
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#aufgabe-4-vergleich-der-grafik-mit-leopoldina">
     Aufgabe 4: Vergleich der Grafik mit Leopoldina
    </a>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="datenanalyse-klimadaten-der-nasa">
<h1>Datenanalyse: Klimadaten der NASA<a class="headerlink" href="#datenanalyse-klimadaten-der-nasa" title="Permalink to this headline">Â¶</a></h1>
<p>Einige Libraries, die man fast immer fÃ¼r die Datenverarbeitung benÃ¶tigt:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">plotly.offline</span> <span class="k">as</span> <span class="nn">py</span>
<span class="n">py</span><span class="o">.</span><span class="n">init_notebook_mode</span><span class="p">(</span><span class="n">connected</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="kn">import</span> <span class="nn">plotly.graph_objs</span> <span class="k">as</span> <span class="nn">go</span>
<span class="kn">import</span> <span class="nn">plotly.tools</span> <span class="k">as</span> <span class="nn">tls</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Setup Complete&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-2.12.1.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script>
</div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Setup Complete
</pre></div>
</div>
</div>
</div>
<div class="section" id="einlesen-von-klimadaten">
<h2>Einlesen von Klimadaten<a class="headerlink" href="#einlesen-von-klimadaten" title="Permalink to this headline">Â¶</a></h2>
<p>Im Folgenden Nutzen wir Daten, die auf der Webseite der NASA zu finden sind: <a class="reference external" href="https://data.giss.nasa.gov/gistemp/">https://data.giss.nasa.gov/gistemp/</a>. Es werden Daten von Dateien (online oder offline) eingelesen mit der Python Bilbiothek <code class="docutils literal notranslate"><span class="pre">pandas</span></code>. Die Daten werden in sogenannten <em>DataFrames</em> gespeichert.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#link = &#39;https://data.giss.nasa.gov/gistemp/tabledata_v4/GLB.Ts+dSST.csv&#39;</span>
<span class="n">link</span> <span class="o">=</span> <span class="s2">&quot;https://data.giss.nasa.gov/gistemp/graphs_v4/graph_data/Global_Mean_Estimates_based_on_Land_and_Ocean_Data/graph.csv&quot;</span>
<span class="n">global_mean</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> 
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyboardInterrupt</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">folders</span><span class="o">/</span><span class="mi">6</span><span class="n">d</span><span class="o">/</span><span class="mi">574</span><span class="n">ptfzx6v9_j7pylzkngrkm0000gp</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">ipykernel_61015</span><span class="o">/</span><span class="mf">2869834341.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="c1">#link = &#39;https://data.giss.nasa.gov/gistemp/tabledata_v4/GLB.Ts+dSST.csv&#39;</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span> <span class="n">link</span> <span class="o">=</span> <span class="s2">&quot;https://data.giss.nasa.gov/gistemp/graphs_v4/graph_data/Global_Mean_Estimates_based_on_Land_and_Ocean_Data/graph.csv&quot;</span>
<span class="ne">----&gt; </span><span class="mi">3</span> <span class="n">global_mean</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/site-packages/pandas/util/_decorators.py</span> in <span class="ni">wrapper</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">309</span>                     <span class="n">stacklevel</span><span class="o">=</span><span class="n">stacklevel</span><span class="p">,</span>
<span class="g g-Whitespace">    </span><span class="mi">310</span>                 <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">311</span>             <span class="k">return</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">312</span> 
<span class="g g-Whitespace">    </span><span class="mi">313</span>         <span class="k">return</span> <span class="n">wrapper</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/site-packages/pandas/io/parsers/readers.py</span> in <span class="ni">read_csv</span><span class="nt">(filepath_or_buffer, sep, delimiter, header, names, index_col, usecols, squeeze, prefix, mangle_dupe_cols, dtype, engine, converters, true_values, false_values, skipinitialspace, skiprows, skipfooter, nrows, na_values, keep_default_na, na_filter, verbose, skip_blank_lines, parse_dates, infer_datetime_format, keep_date_col, date_parser, dayfirst, cache_dates, iterator, chunksize, compression, thousands, decimal, lineterminator, quotechar, quoting, doublequote, escapechar, comment, encoding, encoding_errors, dialect, error_bad_lines, warn_bad_lines, on_bad_lines, delim_whitespace, low_memory, memory_map, float_precision, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">584</span>     <span class="n">kwds</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">kwds_defaults</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">585</span> 
<span class="ne">--&gt; </span><span class="mi">586</span>     <span class="k">return</span> <span class="n">_read</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">587</span> 
<span class="g g-Whitespace">    </span><span class="mi">588</span> 

<span class="nn">~/opt/anaconda3/lib/python3.9/site-packages/pandas/io/parsers/readers.py</span> in <span class="ni">_read</span><span class="nt">(filepath_or_buffer, kwds)</span>
<span class="g g-Whitespace">    </span><span class="mi">480</span> 
<span class="g g-Whitespace">    </span><span class="mi">481</span>     <span class="c1"># Create the parser.</span>
<span class="ne">--&gt; </span><span class="mi">482</span>     <span class="n">parser</span> <span class="o">=</span> <span class="n">TextFileReader</span><span class="p">(</span><span class="n">filepath_or_buffer</span><span class="p">,</span> <span class="o">**</span><span class="n">kwds</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">483</span> 
<span class="g g-Whitespace">    </span><span class="mi">484</span>     <span class="k">if</span> <span class="n">chunksize</span> <span class="ow">or</span> <span class="n">iterator</span><span class="p">:</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/site-packages/pandas/io/parsers/readers.py</span> in <span class="ni">__init__</span><span class="nt">(self, f, engine, **kwds)</span>
<span class="g g-Whitespace">    </span><span class="mi">809</span>             <span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">kwds</span><span class="p">[</span><span class="s2">&quot;has_index_names&quot;</span><span class="p">]</span>
<span class="g g-Whitespace">    </span><span class="mi">810</span> 
<span class="ne">--&gt; </span><span class="mi">811</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_make_engine</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">engine</span><span class="p">)</span>
<span class="g g-Whitespace">    </span><span class="mi">812</span> 
<span class="g g-Whitespace">    </span><span class="mi">813</span>     <span class="k">def</span> <span class="nf">close</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/site-packages/pandas/io/parsers/readers.py</span> in <span class="ni">_make_engine</span><span class="nt">(self, engine)</span>
<span class="g g-Whitespace">   </span><span class="mi">1038</span>             <span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">1039</span>         <span class="c1"># error: Too many arguments for &quot;ParserBase&quot;</span>
<span class="ne">-&gt; </span><span class="mi">1040</span>         <span class="k">return</span> <span class="n">mapping</span><span class="p">[</span><span class="n">engine</span><span class="p">](</span><span class="bp">self</span><span class="o">.</span><span class="n">f</span><span class="p">,</span> <span class="o">**</span><span class="bp">self</span><span class="o">.</span><span class="n">options</span><span class="p">)</span>  <span class="c1"># type: ignore[call-arg]</span>
<span class="g g-Whitespace">   </span><span class="mi">1041</span> 
<span class="g g-Whitespace">   </span><span class="mi">1042</span>     <span class="k">def</span> <span class="nf">_failover_to_python</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/site-packages/pandas/io/parsers/c_parser_wrapper.py</span> in <span class="ni">__init__</span><span class="nt">(self, src, **kwds)</span>
<span class="g g-Whitespace">     </span><span class="mi">49</span> 
<span class="g g-Whitespace">     </span><span class="mi">50</span>         <span class="c1"># open handles</span>
<span class="ne">---&gt; </span><span class="mi">51</span>         <span class="bp">self</span><span class="o">.</span><span class="n">_open_handles</span><span class="p">(</span><span class="n">src</span><span class="p">,</span> <span class="n">kwds</span><span class="p">)</span>
<span class="g g-Whitespace">     </span><span class="mi">52</span>         <span class="k">assert</span> <span class="bp">self</span><span class="o">.</span><span class="n">handles</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span>
<span class="g g-Whitespace">     </span><span class="mi">53</span> 

<span class="nn">~/opt/anaconda3/lib/python3.9/site-packages/pandas/io/parsers/base_parser.py</span> in <span class="ni">_open_handles</span><span class="nt">(self, src, kwds)</span>
<span class="g g-Whitespace">    </span><span class="mi">220</span>         <span class="n">Let</span> <span class="n">the</span> <span class="n">readers</span> <span class="nb">open</span> <span class="n">IOHandles</span> <span class="n">after</span> <span class="n">they</span> <span class="n">are</span> <span class="n">done</span> <span class="k">with</span> <span class="n">their</span> <span class="n">potential</span> <span class="n">raises</span><span class="o">.</span>
<span class="g g-Whitespace">    </span><span class="mi">221</span>         <span class="sd">&quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">222</span><span class="sd">         self.handles = get_handle(</span>
<span class="g g-Whitespace">    </span><span class="mi">223</span><span class="sd">             src,</span>
<span class="g g-Whitespace">    </span><span class="mi">224</span><span class="sd">             &quot;r&quot;,</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/site-packages/pandas/io/common.py</span> in <span class="ni">get_handle</span><span class="nt">(path_or_buf, mode, encoding, compression, memory_map, is_text, errors, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">607</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">608</span><span class="sd">     # open URLs</span>
<span class="ne">--&gt; </span><span class="mi">609</span><span class="sd">     ioargs = _get_filepath_or_buffer(</span>
<span class="g g-Whitespace">    </span><span class="mi">610</span><span class="sd">         path_or_buf,</span>
<span class="g g-Whitespace">    </span><span class="mi">611</span><span class="sd">         encoding=encoding,</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/site-packages/pandas/io/common.py</span> in <span class="ni">_get_filepath_or_buffer</span><span class="nt">(filepath_or_buffer, encoding, compression, mode, storage_options)</span>
<span class="g g-Whitespace">    </span><span class="mi">310</span><span class="sd">         # assuming storage_options is to be interpreted as headers</span>
<span class="g g-Whitespace">    </span><span class="mi">311</span><span class="sd">         req_info = urllib.request.Request(filepath_or_buffer, headers=storage_options)</span>
<span class="ne">--&gt; </span><span class="mi">312</span><span class="sd">         with urlopen(req_info) as req:</span>
<span class="g g-Whitespace">    </span><span class="mi">313</span><span class="sd">             content_encoding = req.headers.get(&quot;Content-Encoding&quot;, None)</span>
<span class="g g-Whitespace">    </span><span class="mi">314</span><span class="sd">             if content_encoding == &quot;gzip&quot;:</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/site-packages/pandas/io/common.py</span> in <span class="ni">urlopen</span><span class="nt">(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">210</span><span class="sd">     import urllib.request</span>
<span class="g g-Whitespace">    </span><span class="mi">211</span><span class="sd"> </span>
<span class="ne">--&gt; </span><span class="mi">212</span><span class="sd">     return urllib.request.urlopen(*args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">213</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">214</span><span class="sd"> </span>

<span class="nn">~/opt/anaconda3/lib/python3.9/urllib/request.py</span> in <span class="ni">urlopen</span><span class="nt">(url, data, timeout, cafile, capath, cadefault, context)</span>
<span class="g g-Whitespace">    </span><span class="mi">212</span><span class="sd">     else:</span>
<span class="g g-Whitespace">    </span><span class="mi">213</span><span class="sd">         opener = _opener</span>
<span class="ne">--&gt; </span><span class="mi">214</span><span class="sd">     return opener.open(url, data, timeout)</span>
<span class="g g-Whitespace">    </span><span class="mi">215</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">216</span><span class="sd"> def install_opener(opener):</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/urllib/request.py</span> in <span class="ni">open</span><span class="nt">(self, fullurl, data, timeout)</span>
<span class="g g-Whitespace">    </span><span class="mi">515</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">516</span><span class="sd">         sys.audit(&#39;urllib.Request&#39;, req.full_url, req.data, req.headers, req.get_method())</span>
<span class="ne">--&gt; </span><span class="mi">517</span><span class="sd">         response = self._open(req, data)</span>
<span class="g g-Whitespace">    </span><span class="mi">518</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">519</span><span class="sd">         # post-process response</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/urllib/request.py</span> in <span class="ni">_open</span><span class="nt">(self, req, data)</span>
<span class="g g-Whitespace">    </span><span class="mi">532</span><span class="sd"> </span>
<span class="g g-Whitespace">    </span><span class="mi">533</span><span class="sd">         protocol = req.type</span>
<span class="ne">--&gt; </span><span class="mi">534</span><span class="sd">         result = self._call_chain(self.handle_open, protocol, protocol +</span>
<span class="g g-Whitespace">    </span><span class="mi">535</span><span class="sd">                                   &#39;_open&#39;, req)</span>
<span class="g g-Whitespace">    </span><span class="mi">536</span><span class="sd">         if result:</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/urllib/request.py</span> in <span class="ni">_call_chain</span><span class="nt">(self, chain, kind, meth_name, *args)</span>
<span class="g g-Whitespace">    </span><span class="mi">492</span><span class="sd">         for handler in handlers:</span>
<span class="g g-Whitespace">    </span><span class="mi">493</span><span class="sd">             func = getattr(handler, meth_name)</span>
<span class="ne">--&gt; </span><span class="mi">494</span><span class="sd">             result = func(*args)</span>
<span class="g g-Whitespace">    </span><span class="mi">495</span><span class="sd">             if result is not None:</span>
<span class="g g-Whitespace">    </span><span class="mi">496</span><span class="sd">                 return result</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/urllib/request.py</span> in <span class="ni">https_open</span><span class="nt">(self, req)</span>
<span class="g g-Whitespace">   </span><span class="mi">1387</span><span class="sd"> </span>
<span class="g g-Whitespace">   </span><span class="mi">1388</span><span class="sd">         def https_open(self, req):</span>
<span class="ne">-&gt; </span><span class="mi">1389</span><span class="sd">             return self.do_open(http.client.HTTPSConnection, req,</span>
<span class="g g-Whitespace">   </span><span class="mi">1390</span><span class="sd">                 context=self._context, check_hostname=self._check_hostname)</span>
<span class="g g-Whitespace">   </span><span class="mi">1391</span><span class="sd"> </span>

<span class="nn">~/opt/anaconda3/lib/python3.9/urllib/request.py</span> in <span class="ni">do_open</span><span class="nt">(self, http_class, req, **http_conn_args)</span>
<span class="g g-Whitespace">   </span><span class="mi">1344</span><span class="sd">         try:</span>
<span class="g g-Whitespace">   </span><span class="mi">1345</span><span class="sd">             try:</span>
<span class="ne">-&gt; </span><span class="mi">1346</span><span class="sd">                 h.request(req.get_method(), req.selector, req.data, headers,</span>
<span class="g g-Whitespace">   </span><span class="mi">1347</span><span class="sd">                           encode_chunked=req.has_header(&#39;Transfer-encoding&#39;))</span>
<span class="g g-Whitespace">   </span><span class="mi">1348</span><span class="sd">             except OSError as err: # timeout error</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/http/client.py</span> in <span class="ni">request</span><span class="nt">(self, method, url, body, headers, encode_chunked)</span>
<span class="g g-Whitespace">   </span><span class="mi">1277</span><span class="sd">                 encode_chunked=False):</span>
<span class="g g-Whitespace">   </span><span class="mi">1278</span><span class="sd">         &quot;&quot;&quot;</span><span class="n">Send</span> <span class="n">a</span> <span class="n">complete</span> <span class="n">request</span> <span class="n">to</span> <span class="n">the</span> <span class="n">server</span><span class="o">.</span><span class="s2">&quot;&quot;&quot;</span>
<span class="ne">-&gt; </span><span class="mi">1279</span><span class="s2">         self._send_request(method, url, body, headers, encode_chunked)</span>
<span class="g g-Whitespace">   </span><span class="mi">1280</span><span class="s2"> </span>
<span class="g g-Whitespace">   </span><span class="mi">1281</span><span class="s2">     def _send_request(self, method, url, body, headers, encode_chunked):</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/http/client.py</span> in <span class="ni">_send_request</span><span class="nt">(self, method, url, body, headers, encode_chunked)</span>
<span class="g g-Whitespace">   </span><span class="mi">1323</span><span class="s2">             # default charset of iso-8859-1.</span>
<span class="g g-Whitespace">   </span><span class="mi">1324</span><span class="s2">             body = _encode(body, &#39;body&#39;)</span>
<span class="ne">-&gt; </span><span class="mi">1325</span><span class="s2">         self.endheaders(body, encode_chunked=encode_chunked)</span>
<span class="g g-Whitespace">   </span><span class="mi">1326</span><span class="s2"> </span>
<span class="g g-Whitespace">   </span><span class="mi">1327</span><span class="s2">     def getresponse(self):</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/http/client.py</span> in <span class="ni">endheaders</span><span class="nt">(self, message_body, encode_chunked)</span>
<span class="g g-Whitespace">   </span><span class="mi">1272</span><span class="s2">         else:</span>
<span class="g g-Whitespace">   </span><span class="mi">1273</span><span class="s2">             raise CannotSendHeader()</span>
<span class="ne">-&gt; </span><span class="mi">1274</span><span class="s2">         self._send_output(message_body, encode_chunked=encode_chunked)</span>
<span class="g g-Whitespace">   </span><span class="mi">1275</span><span class="s2"> </span>
<span class="g g-Whitespace">   </span><span class="mi">1276</span><span class="s2">     def request(self, method, url, body=None, headers=</span><span class="si">{}</span><span class="s2">, *,</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/http/client.py</span> in <span class="ni">_send_output</span><span class="nt">(self, message_body, encode_chunked)</span>
<span class="g g-Whitespace">   </span><span class="mi">1032</span><span class="s2">         msg = b&quot;</span><span class="se">\r\n</span><span class="s2">&quot;.join(self._buffer)</span>
<span class="g g-Whitespace">   </span><span class="mi">1033</span><span class="s2">         del self._buffer[:]</span>
<span class="ne">-&gt; </span><span class="mi">1034</span><span class="s2">         self.send(msg)</span>
<span class="g g-Whitespace">   </span><span class="mi">1035</span><span class="s2"> </span>
<span class="g g-Whitespace">   </span><span class="mi">1036</span><span class="s2">         if message_body is not None:</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/http/client.py</span> in <span class="ni">send</span><span class="nt">(self, data)</span>
<span class="g g-Whitespace">    </span><span class="mi">972</span><span class="s2">         if self.sock is None:</span>
<span class="g g-Whitespace">    </span><span class="mi">973</span><span class="s2">             if self.auto_open:</span>
<span class="ne">--&gt; </span><span class="mi">974</span><span class="s2">                 self.connect()</span>
<span class="g g-Whitespace">    </span><span class="mi">975</span><span class="s2">             else:</span>
<span class="g g-Whitespace">    </span><span class="mi">976</span><span class="s2">                 raise NotConnected()</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/http/client.py</span> in <span class="ni">connect</span><span class="nt">(self)</span>
<span class="g g-Whitespace">   </span><span class="mi">1439</span><span class="s2">             &quot;Connect to a host on a given (SSL) port.&quot;</span>
<span class="g g-Whitespace">   </span><span class="mi">1440</span><span class="s2"> </span>
<span class="ne">-&gt; </span><span class="mi">1441</span><span class="s2">             super().connect()</span>
<span class="g g-Whitespace">   </span><span class="mi">1442</span><span class="s2"> </span>
<span class="g g-Whitespace">   </span><span class="mi">1443</span><span class="s2">             if self._tunnel_host:</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/http/client.py</span> in <span class="ni">connect</span><span class="nt">(self)</span>
<span class="g g-Whitespace">    </span><span class="mi">943</span><span class="s2">     def connect(self):</span>
<span class="g g-Whitespace">    </span><span class="mi">944</span><span class="s2">         &quot;&quot;&quot;</span><span class="n">Connect</span> <span class="n">to</span> <span class="n">the</span> <span class="n">host</span> <span class="ow">and</span> <span class="n">port</span> <span class="n">specified</span> <span class="ow">in</span> <span class="fm">__init__</span><span class="o">.</span><span class="s2">&quot;&quot;&quot;</span>
<span class="ne">--&gt; </span><span class="mi">945</span><span class="s2">         self.sock = self._create_connection(</span>
<span class="g g-Whitespace">    </span><span class="mi">946</span><span class="s2">             (self.host,self.port), self.timeout, self.source_address)</span>
<span class="g g-Whitespace">    </span><span class="mi">947</span><span class="s2">         self.sock.setsockopt(socket.IPPROTO_TCP, socket.TCP_NODELAY, 1)</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/socket.py</span> in <span class="ni">create_connection</span><span class="nt">(address, timeout, source_address)</span>
<span class="g g-Whitespace">    </span><span class="mi">830</span><span class="s2">             if source_address:</span>
<span class="g g-Whitespace">    </span><span class="mi">831</span><span class="s2">                 sock.bind(source_address)</span>
<span class="ne">--&gt; </span><span class="mi">832</span><span class="s2">             sock.connect(sa)</span>
<span class="g g-Whitespace">    </span><span class="mi">833</span><span class="s2">             # Break explicitly a reference cycle</span>
<span class="g g-Whitespace">    </span><span class="mi">834</span><span class="s2">             err = None</span>

<span class="ne">KeyboardInterrupt</span>: 
</pre></div>
</div>
</div>
</div>
<p>Um das <em>DataFrame</em> auszugeben, kÃ¶nnen beispielsweise die ersten 5 Spalten ausgegeben werden:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">global_mean</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="c1"># Ausgabe der ersten 5 Spalten</span>
<span class="c1">#global_mean.tail(5) # Ausgabe der letzten 5 Spalten</span>
<span class="c1">#global_mean # Ausgabe des DataFrames </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>No_Smoothing</th>
      <th>Lowess(5)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1880</td>
      <td>-0.17</td>
      <td>-0.09</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1881</td>
      <td>-0.08</td>
      <td>-0.13</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1882</td>
      <td>-0.11</td>
      <td>-0.17</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1883</td>
      <td>-0.18</td>
      <td>-0.20</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1884</td>
      <td>-0.28</td>
      <td>-0.24</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Einzelne Spalten kann man sich anzeigen lassen, indem den Namen des zugehÃ¶rigen <em>DataFrames</em> nutzt:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">global_mean</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0      1880
1      1881
2      1882
3      1883
4      1884
       ... 
137    2017
138    2018
139    2019
140    2020
141    2021
Name: Year, Length: 142, dtype: int64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="daten-plotten">
<h2>Daten plotten<a class="headerlink" href="#daten-plotten" title="Permalink to this headline">Â¶</a></h2>
<p>ZunÃ¤chst wollen wir die beiden Spalten, No_Smoothing and Lowess(5) gegenÃ¼ber der Zeitachse Year plotten. HierfÃ¼r benÃ¼tzen wir die Python Library <code class="docutils literal notranslate"><span class="pre">matplotlib</span></code>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">14</span><span class="p">;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">global_mean</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">],</span> <span class="n">global_mean</span><span class="p">[</span><span class="s1">&#39;No_Smoothing&#39;</span><span class="p">],</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;Werte&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">global_mean</span><span class="p">[</span><span class="s1">&#39;Year&#39;</span><span class="p">],</span> <span class="n">global_mean</span><span class="p">[</span><span class="s1">&#39;Lowess(5)&#39;</span><span class="p">],</span> <span class="n">label</span> <span class="o">=</span> <span class="s1">&#39;GlÃ¤ttung (NASA)&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Jahr&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Jahresmitteltemperaturabweichung [Â°C]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/Datenanalyse_11_0.png" src="../../_images/Datenanalyse_11_0.png" />
</div>
</div>
</div>
<div class="section" id="daten-verarbeiten">
<h2>Daten verarbeiten<a class="headerlink" href="#daten-verarbeiten" title="Permalink to this headline">Â¶</a></h2>
<p>Die Bibliothek <code class="docutils literal notranslate"><span class="pre">pandas</span></code> ist sehr umfangreich und wird viel zur Datenverarbeitung genutzt. Im folgenden dazu einige Beispiele:</p>
<div class="section" id="statistische-groszen-mittelwert-standardabweichung-min-max">
<h3>Statistische GrÃ¶ÃŸen: Mittelwert, Standardabweichung, Min, Max<a class="headerlink" href="#statistische-groszen-mittelwert-standardabweichung-min-max" title="Permalink to this headline">Â¶</a></h3>
<p>FÃ¼r jede Spalte lassen sich statistische GrÃ¶ÃŸen wie z.B. die Anzahl der EintrÃ¤ge pro Spalte, deren Mittelwert, Standardabweichung, Minimal- und Maximalwert bestimmen:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">global_mean</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>No_Smoothing</th>
      <th>Lowess(5)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>142.000000</td>
      <td>142.000000</td>
      <td>142.000000</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1950.500000</td>
      <td>0.053169</td>
      <td>0.053169</td>
    </tr>
    <tr>
      <th>std</th>
      <td>41.135953</td>
      <td>0.364161</td>
      <td>0.352324</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1880.000000</td>
      <td>-0.490000</td>
      <td>-0.420000</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1915.250000</td>
      <td>-0.200000</td>
      <td>-0.227500</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1950.500000</td>
      <td>-0.065000</td>
      <td>-0.040000</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1985.750000</td>
      <td>0.252500</td>
      <td>0.235000</td>
    </tr>
    <tr>
      <th>max</th>
      <td>2021.000000</td>
      <td>1.010000</td>
      <td>0.930000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="beispiel-maximum-und-zugehoriges-jahr-ausgeben">
<h3>Beispiel: Maximum und zugehÃ¶riges Jahr ausgeben<a class="headerlink" href="#beispiel-maximum-und-zugehoriges-jahr-ausgeben" title="Permalink to this headline">Â¶</a></h3>
<p>Dies kÃ¶nnen wir benutzen, um beispielsweise die <em>maximale Temperaturdifferenz</em> zu ermitteln:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;No_Smoothing&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.01
</pre></div>
</div>
</div>
</div>
<p>Wenn wir wissen wollen, <em>wann</em> diese <em>maximale Temperaturdifferenz</em> auftrat, muss der zugehÃ¶rige Index dieses Events gespeichert werden:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">index_max</span> <span class="o">=</span> <span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;No_Smoothing&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">idxmax</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">index_max</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>136
</pre></div>
</div>
</div>
</div>
<p>Diesen Index kÃ¶nnen wir nun benutzen, um mittels <code class="docutils literal notranslate"><span class="pre">.loc</span></code> Befehl den Eintrag zu diesem Index auszugeben:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">global_mean</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">index_max</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Year            2016.00
No_Smoothing       1.01
Lowess(5)          0.87
Name: 136, dtype: float64
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="beispiel-daten-aufsteigend-absteigend-sortieren">
<h3>Beispiel: Daten aufsteigend/absteigend sortieren<a class="headerlink" href="#beispiel-daten-aufsteigend-absteigend-sortieren" title="Permalink to this headline">Â¶</a></h3>
<p>Mit <code class="docutils literal notranslate"><span class="pre">.sort_values(&quot;Spaltenname&quot;)</span></code> kÃ¶nnen wir auch die Tabelle nach dem definierten Spaltennamen sortieren (standardmÃ¤ÃŸig in <strong>ansteigender</strong> Reihenfolge):</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">global_mean</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;No_Smoothing&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>No_Smoothing</th>
      <th>Lowess(5)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>29</th>
      <td>1909</td>
      <td>-0.49</td>
      <td>-0.41</td>
    </tr>
    <tr>
      <th>24</th>
      <td>1904</td>
      <td>-0.47</td>
      <td>-0.31</td>
    </tr>
    <tr>
      <th>37</th>
      <td>1917</td>
      <td>-0.47</td>
      <td>-0.30</td>
    </tr>
    <tr>
      <th>31</th>
      <td>1911</td>
      <td>-0.45</td>
      <td>-0.40</td>
    </tr>
    <tr>
      <th>30</th>
      <td>1910</td>
      <td>-0.44</td>
      <td>-0.42</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>135</th>
      <td>2015</td>
      <td>0.90</td>
      <td>0.83</td>
    </tr>
    <tr>
      <th>137</th>
      <td>2017</td>
      <td>0.92</td>
      <td>0.91</td>
    </tr>
    <tr>
      <th>139</th>
      <td>2019</td>
      <td>0.98</td>
      <td>0.93</td>
    </tr>
    <tr>
      <th>140</th>
      <td>2020</td>
      <td>1.01</td>
      <td>0.93</td>
    </tr>
    <tr>
      <th>136</th>
      <td>2016</td>
      <td>1.01</td>
      <td>0.87</td>
    </tr>
  </tbody>
</table>
<p>142 rows Ã— 3 columns</p>
</div></div></div>
</div>
<p>Mit <code class="docutils literal notranslate"><span class="pre">ascending=False</span></code> wird absteigend sortiert:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">global_mean</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;No_Smoothing&quot;</span><span class="p">,</span> <span class="n">ascending</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>No_Smoothing</th>
      <th>Lowess(5)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>140</th>
      <td>2020</td>
      <td>1.01</td>
      <td>0.93</td>
    </tr>
    <tr>
      <th>136</th>
      <td>2016</td>
      <td>1.01</td>
      <td>0.87</td>
    </tr>
    <tr>
      <th>139</th>
      <td>2019</td>
      <td>0.98</td>
      <td>0.93</td>
    </tr>
    <tr>
      <th>137</th>
      <td>2017</td>
      <td>0.92</td>
      <td>0.91</td>
    </tr>
    <tr>
      <th>135</th>
      <td>2015</td>
      <td>0.90</td>
      <td>0.83</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>30</th>
      <td>1910</td>
      <td>-0.44</td>
      <td>-0.42</td>
    </tr>
    <tr>
      <th>31</th>
      <td>1911</td>
      <td>-0.45</td>
      <td>-0.40</td>
    </tr>
    <tr>
      <th>24</th>
      <td>1904</td>
      <td>-0.47</td>
      <td>-0.31</td>
    </tr>
    <tr>
      <th>37</th>
      <td>1917</td>
      <td>-0.47</td>
      <td>-0.30</td>
    </tr>
    <tr>
      <th>29</th>
      <td>1909</td>
      <td>-0.49</td>
      <td>-0.41</td>
    </tr>
  </tbody>
</table>
<p>142 rows Ã— 3 columns</p>
</div></div></div>
</div>
<p><strong>WICHTIG</strong>: Der Dataframe <code class="docutils literal notranslate"><span class="pre">global_mean</span></code> wird dadurch nicht verÃ¤ndert, es handelt sich nur um eine Anzeige!</p>
</div>
</div>
<div class="section" id="daten-glatten">
<h2>Daten glÃ¤tten<a class="headerlink" href="#daten-glatten" title="Permalink to this headline">Â¶</a></h2>
<p>Die von der NASA verwendete GlÃ¤ttung ist die <strong>LO</strong>cally <strong>WE</strong>ighted <strong>S</strong>catter-plot <strong>S</strong>moother (LOWESS). Dabei wird in einem lokal zu definierenden Bereich eine lineare Regression durchgefÃ¼hrt. Eine genauere ErklÃ¤rung zur Methode findet ihr auf <a class="reference external" href="https://youtu.be/b7oryuMP3r8">Youtube</a>.</p>
<p>Es gibt natÃ¼rlich viele Methoden und Filter, um Daten zu glÃ¤tten. Wir wollen nun versuchen, die Methode der NASA zu rekonstruieren. HierfÃ¼r benutzen wir die Python Library <code class="docutils literal notranslate"><span class="pre">statsmodels</span></code> und erstellen eine weitere Spalte <code class="docutils literal notranslate"><span class="pre">Lowess(own)</span></code> in unserem DataFrame <code class="docutils literal notranslate"><span class="pre">global_mean</span></code>. In diese Spalte schreiben wir die geglÃ¤tteten Werte von den Rohdaten <code class="docutils literal notranslate"><span class="pre">global_mean[&quot;No_Smoothing&quot;]</span></code> indem wir die Funktion <code class="docutils literal notranslate"><span class="pre">lowess</span></code>aufrufen. Details zu Nutzung der Funktion findet ihr <a class="reference external" href="https://www.statsmodels.org/devel/generated/statsmodels.nonparametric.smoothers_lowess.lowess.html">https://www.statsmodels.org</a>:</p>
<ul class="simple">
<li><p>an erster Stelle in der Funktion werden die Y-Werte eingegeben, hier <code class="docutils literal notranslate"><span class="pre">global_mean[&quot;No_Smoothing&quot;]</span></code></p></li>
<li><p>an zweiter Stelle in der Funktion werden die X-Werte eingegeben, hier <code class="docutils literal notranslate"><span class="pre">global_mean[&quot;Year&quot;]</span></code></p></li>
<li><p>die Option <code class="docutils literal notranslate"><span class="pre">frac</span></code> ist eine Zahl zwischen 0 und 1. Dies ist der Anteil der Daten, der bei der SchÃ¤tzung der einzelnen y-Werte verwendet wird.</p></li>
<li><p>Ausgegeben wird zweidimensionalas Array. Die erste Spalte enthÃ¤lt die sortierten x-Werte und die zweite Spalte die zugehÃ¶rigen geschÃ¤tzten y-Werte. Um die zweite Spalte in den DataFrame zu speichern, wÃ¤hlen wir diese mit <code class="docutils literal notranslate"><span class="pre">[:,1]</span></code> aus.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">statsmodels.nonparametric.smoothers_lowess</span> <span class="kn">import</span> <span class="n">lowess</span>
<span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Lowess(own)&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lowess</span><span class="p">(</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;No_Smoothing&quot;</span><span class="p">],</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span> <span class="n">frac</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="mi">14</span><span class="p">)[:,</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">global_mean</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>No_Smoothing</th>
      <th>Lowess(5)</th>
      <th>Lowess(own)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1880</td>
      <td>-0.17</td>
      <td>-0.09</td>
      <td>-0.092698</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1881</td>
      <td>-0.08</td>
      <td>-0.13</td>
      <td>-0.129873</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1882</td>
      <td>-0.11</td>
      <td>-0.17</td>
      <td>-0.167172</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1883</td>
      <td>-0.18</td>
      <td>-0.20</td>
      <td>-0.203172</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1884</td>
      <td>-0.28</td>
      <td>-0.24</td>
      <td>-0.239029</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>137</th>
      <td>2017</td>
      <td>0.92</td>
      <td>0.91</td>
      <td>0.911976</td>
    </tr>
    <tr>
      <th>138</th>
      <td>2018</td>
      <td>0.85</td>
      <td>0.92</td>
      <td>0.921410</td>
    </tr>
    <tr>
      <th>139</th>
      <td>2019</td>
      <td>0.98</td>
      <td>0.93</td>
      <td>0.926072</td>
    </tr>
    <tr>
      <th>140</th>
      <td>2020</td>
      <td>1.01</td>
      <td>0.93</td>
      <td>0.929365</td>
    </tr>
    <tr>
      <th>141</th>
      <td>2021</td>
      <td>0.84</td>
      <td>0.93</td>
      <td>0.931468</td>
    </tr>
  </tbody>
</table>
<p>142 rows Ã— 4 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">14</span><span class="p">;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Jahresmitteltemperaturabweichung [Â°C]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Jahr&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;No_Smoothing&quot;</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:gray&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Werte&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Lowess(5)&quot;</span><span class="p">],</span> <span class="n">lw</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span>  <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:blue&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;GlÃ¤ttung (NASA)&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Lowess(own)&quot;</span><span class="p">],</span><span class="n">ls</span><span class="o">=</span><span class="s2">&quot;--&quot;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>  <span class="n">color</span><span class="o">=</span><span class="s2">&quot;orange&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;eigene GlÃ¤ttung (LOWESS f=1/14)&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/Datenanalyse_30_0.png" src="../../_images/Datenanalyse_30_0.png" />
</div>
</div>
<p>Die Verwendung des <em>rollenden Mittelwertes</em> hat das Problem, dass dabei immer Werte fehlen (Anfang/Ende). Die gewÃ¤hlten gewÃ¤hlten Parametern fÃ¼r das LOWESS liefern Ã¤hnliche Ergebnisse im Vergleich zur Original GlÃ¤ttung der NASA.</p>
</div>
<div class="section" id="daten-bereinigen">
<h2>Daten bereinigen<a class="headerlink" href="#daten-bereinigen" title="Permalink to this headline">Â¶</a></h2>
<p>Beim <a class="reference external" href="https://www.umweltbundesamt.de/daten/klima/trends-der-lufttemperatur#2020-bisher-zweitwarmstes-jahr-in-deutschland">Umweltbundesamt</a> gibt es aktuelle Zahlen zur ErwÃ¤rmung der Luftemperatur in Deutschland. Die Werte befinden sich in <a class="reference external" href="https://www.umweltbundesamt.de/sites/default/files/medien/384/bilder/dateien/3-bis-8_abb-tab_tmt_2021-05-12.xlsx">dieser Exceltabelle</a>, welche mit dem Befehl <code class="docutils literal notranslate"><span class="pre">pd.read_excel()</span></code> eingelesen werden kann, wobei hierbei der Name des ExcelSheets und die verwendenten Spaltennummern angegeben werden kÃ¶nnen. Allerdings liegen in diesem Datenset einige Messpunkte nicht vor, wie wir gleich bei der Ausgabe des DataFrames sehen werden:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">link</span> <span class="o">=</span> <span class="s2">&quot;https://www.umweltbundesamt.de/sites/default/files/medien/384/bilder/dateien/3-bis-8_abb-tab_tmt_2021-05-12.xlsx&quot;</span>
<span class="n">GER_mean</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_excel</span><span class="p">(</span><span class="n">link</span><span class="p">,</span><span class="n">sheet_name</span><span class="o">=</span><span class="s2">&quot;3_DWD&quot;</span><span class="p">,</span><span class="n">usecols</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">19</span><span class="p">])</span> <span class="c1"># einlesen</span>
<span class="n">GER_mean</span><span class="o">.</span><span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">,</span><span class="s2">&quot;Jahresmitteltemperatur [Â°C]&quot;</span><span class="p">]</span>
<span class="n">GER_mean</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Jahr</th>
      <th>Jahresmitteltemperatur [Â°C]</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1880.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1881.0</td>
      <td>7.335200</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1882.0</td>
      <td>8.366100</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1883.0</td>
      <td>7.909900</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1884.0</td>
      <td>8.589200</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>142</th>
      <td>NaN</td>
      <td>8.243483</td>
    </tr>
    <tr>
      <th>143</th>
      <td>NaN</td>
      <td>8.558950</td>
    </tr>
    <tr>
      <th>144</th>
      <td>NaN</td>
      <td>8.870183</td>
    </tr>
    <tr>
      <th>145</th>
      <td>NaN</td>
      <td>9.303366</td>
    </tr>
    <tr>
      <th>146</th>
      <td>NaN</td>
      <td>7.775830</td>
    </tr>
  </tbody>
</table>
<p>147 rows Ã— 2 columns</p>
</div></div></div>
</div>
<p>Es fÃ¤llt auf, dass an einigen Stellen Datenpunkte fehlen (wie sollte es auch anders sein in Deutschlandâ€¦). Bevor die Daten weiter verarbeitet werden kÃ¶nnen, mÃ¼ssen Sie daher bereinigt werden um die <code class="docutils literal notranslate"><span class="pre">NaN</span></code> zu entfernen, und die Jahreszahlen als <em>Integer</em> definiert werden:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">GER_mean</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># Zeilen mit &quot;NaN&quot; Werte entfernt und DataFrame wird gespeichert (!) </span>
<span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span> <span class="c1"># Spalte &quot;Jahr&quot; als integer definieren</span>
<span class="n">GER_mean</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Jahr</th>
      <th>Jahresmitteltemperatur [Â°C]</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>1881</td>
      <td>7.3352</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1882</td>
      <td>8.3661</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1883</td>
      <td>7.9099</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1884</td>
      <td>8.5892</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1885</td>
      <td>7.7726</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>136</th>
      <td>2016</td>
      <td>9.5000</td>
    </tr>
    <tr>
      <th>137</th>
      <td>2017</td>
      <td>9.6000</td>
    </tr>
    <tr>
      <th>138</th>
      <td>2018</td>
      <td>10.5000</td>
    </tr>
    <tr>
      <th>139</th>
      <td>2019</td>
      <td>10.3000</td>
    </tr>
    <tr>
      <th>140</th>
      <td>2020</td>
      <td>10.4000</td>
    </tr>
  </tbody>
</table>
<p>140 rows Ã— 2 columns</p>
</div></div></div>
</div>
</div>
<div class="section" id="temperaturabweichung-berechnen">
<h2>Temperaturabweichung berechnen<a class="headerlink" href="#temperaturabweichung-berechnen" title="Permalink to this headline">Â¶</a></h2>
<p>FÃ¼r die Daten aus Deutschland mÃ¼ssen noch die Temperaturabweichungen zum Mittelwert zwischen 1881 und 1910 berechnet werden, damit sie zu dem anderen Datensatz vergleichbar sind und einem Diagramm geplottet werden kÃ¶nnen. Im folgenden berechnen wir:</p>
<ul class="simple">
<li><p>bis zum Jahr 1910 den Mittelwert mit der Funktion <code class="docutils literal notranslate"><span class="pre">.mean()</span></code>, und zwar von allen Jahresmitteltemperatur-Werten <code class="docutils literal notranslate"><span class="pre">GER_mean[&quot;Jahresmitteltemperatur</span> <span class="pre">[Â°C]&quot;]</span></code>, die vor 1911 aufgenommen worden sind. Diesen Mittelwert Ã¼ber die Jahre 1881-1910 speichern wir in <code class="docutils literal notranslate"><span class="pre">GER_mean1881_1910</span></code>.</p></li>
<li><p>die Differenz zwischen Jahresmitteltemperatur und dem eben berechneten Mittelwert und erhalten somit die Jahresmitteltemperaturabweichung, welche wir in eine neue Spalte des DataFrames schreiben, <code class="docutils literal notranslate"><span class="pre">GER_mean[&quot;Jahresmitteltemperaturabweichung</span> <span class="pre">[Â°C]&quot;]</span></code></p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Temperaturabweichung berechnen (Abweichung von Mittelwert der Temperatur zwischen 1881 und 1900)</span>
<span class="n">GER_mean1881_1910</span> <span class="o">=</span> <span class="n">GER_mean</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1910</span><span class="p">,</span><span class="s2">&quot;Jahresmitteltemperatur [Â°C]&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahresmitteltemperaturabweichung [Â°C]&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahresmitteltemperatur [Â°C]&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">GER_mean1881_1910</span>
<span class="n">GER_mean</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Jahr</th>
      <th>Jahresmitteltemperatur [Â°C]</th>
      <th>Jahresmitteltemperaturabweichung [Â°C]</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>1881</td>
      <td>7.3352</td>
      <td>-0.482663</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1882</td>
      <td>8.3661</td>
      <td>0.548237</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1883</td>
      <td>7.9099</td>
      <td>0.092037</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1884</td>
      <td>8.5892</td>
      <td>0.771337</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1885</td>
      <td>7.7726</td>
      <td>-0.045263</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>136</th>
      <td>2016</td>
      <td>9.5000</td>
      <td>1.682137</td>
    </tr>
    <tr>
      <th>137</th>
      <td>2017</td>
      <td>9.6000</td>
      <td>1.782137</td>
    </tr>
    <tr>
      <th>138</th>
      <td>2018</td>
      <td>10.5000</td>
      <td>2.682137</td>
    </tr>
    <tr>
      <th>139</th>
      <td>2019</td>
      <td>10.3000</td>
      <td>2.482137</td>
    </tr>
    <tr>
      <th>140</th>
      <td>2020</td>
      <td>10.4000</td>
      <td>2.582137</td>
    </tr>
  </tbody>
</table>
<p>140 rows Ã— 3 columns</p>
</div></div></div>
</div>
</div>
<div class="section" id="temperaturantstieg-mittels-linearer-regression-bestimmen">
<h2>Temperaturantstieg mittels Linearer Regression bestimmen<a class="headerlink" href="#temperaturantstieg-mittels-linearer-regression-bestimmen" title="Permalink to this headline">Â¶</a></h2>
<p>Mittels linearer Regression kann der Temperaturanstieg aus den Daten berechnet werden. HierfÃ¼r wird die Python Library <code class="docutils literal notranslate"><span class="pre">numpy</span></code> benutzt und die Funktion <code class="docutils literal notranslate"><span class="pre">polyfit</span></code> aufgerufen und in als <code class="docutils literal notranslate"><span class="pre">model</span></code> gespeichert. Diese Funktion benutzt die Least-Square Methode fÃ¼r polynomische Modelle. Weitere Informationen zu der Funktion finder ihr <a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.polyfit.html">hier</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">x</span><span class="o">=</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">]</span>
<span class="n">y</span><span class="o">=</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahresmitteltemperatur [Â°C]&quot;</span><span class="p">]</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># 1. Wert = Anstieg , 2. Wert = Schnittpunkt mit y-Achse</span>
<span class="n">y_model</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">model</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>

<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">14</span><span class="p">;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Jahresmitteltemperaturabweichung [Â°C]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Jahr&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">],</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahresmitteltemperatur [Â°C]&quot;</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Deutschland Land (Werte) [DWD]&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y_model</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:blue&quot;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;lineare Regression (y=</span><span class="si">{</span><span class="n">model</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">*x+</span><span class="si">{</span><span class="n">model</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/Datenanalyse_39_0.png" src="../../_images/Datenanalyse_39_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Temperaturanstieg pro Jahr (von 1981 bis 2020): </span><span class="si">{</span><span class="n">model</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">Â°C/Jahr&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Temperaturanstieg seit Beginn der Messung: </span><span class="si">{</span><span class="p">(</span><span class="n">y_model</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">-</span><span class="n">y_model</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">Â°C&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Temperaturanstieg pro Jahr (von 1981 bis 2020): 0.012Â°C/Jahr
Temperaturanstieg seit Beginn der Messung: 1.611Â°C
</pre></div>
</div>
</div>
</div>
<p><strong>Vorsicht</strong>: Die lineare Regression bezieht hier den ganzen Zeitraum mit ein, betrachten wir fÃ¼r den Temperaturgradienten nur die Daten von 1980 bis 2020:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">=</span><span class="n">GER_mean</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1980</span><span class="p">,</span><span class="s2">&quot;Jahr&quot;</span><span class="p">]</span>
<span class="n">y</span><span class="o">=</span><span class="n">GER_mean</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1980</span><span class="p">,</span><span class="s2">&quot;Jahresmitteltemperatur [Â°C]&quot;</span><span class="p">]</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># 1. Wert = Anstieg , 2. Wert = Schnittpunkt mit y-Achse</span>
<span class="n">y_model</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">model</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Temperaturanstieg pro Jahr (von 1980 bis 2020): </span><span class="si">{</span><span class="n">model</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">Â°C/Jahr&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Temperaturanstieg pro Jahr (von 1980 bis 2020): 0.045Â°C/Jahr
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">4</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">14</span><span class="p">;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Jahresmitteltemperaturabweichung [Â°C]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Jahr&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">],</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahresmitteltemperatur [Â°C]&quot;</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">marker</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;gray&quot;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Deutschland Land (Werte) [DWD]&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y_model</span><span class="p">,</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:blue&quot;</span><span class="p">,</span><span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;lineare Regression (y=</span><span class="si">{</span><span class="n">model</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">*x+</span><span class="si">{</span><span class="n">model</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/Datenanalyse_43_0.png" src="../../_images/Datenanalyse_43_0.png" />
</div>
</div>
</div>
<div class="section" id="aufgaben">
<h2><strong>Aufgaben</strong><a class="headerlink" href="#aufgaben" title="Permalink to this headline">Â¶</a></h2>
<div class="section" id="aufgabe-1-daten-aus-deutschland-glatten-und-plotten">
<h3>Aufgabe 1: Daten aus Deutschland glÃ¤tten und plotten<a class="headerlink" href="#aufgabe-1-daten-aus-deutschland-glatten-und-plotten" title="Permalink to this headline">Â¶</a></h3>
<p>GlÃ¤tte die Daten aus Deutschland, die im letzten Abschnitt bereits bereinigt wurden. HierfÃ¼r sollen lediglich die <em>Abweichungen</em> der Jahresmitteltemperaturen betrachtet werden (also das, was eben berechnet wurde). Stelle  anschlieÃŸend die Abweichungswerte zusammen mit den geglÃ¤tteten Werten grafisch dar und beschrifte das Diagramm entsprechend.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;hide-input&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">}</span>
<span class="c1"># Berechnung der geglÃ¤tteten Daten und Speichern im DataFrame:</span>
<span class="kn">from</span> <span class="nn">statsmodels.nonparametric.smoothers_lowess</span> <span class="kn">import</span> <span class="n">lowess</span>
<span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Lowess(own)&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lowess</span><span class="p">(</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahresmitteltemperaturabweichung [Â°C]&quot;</span><span class="p">],</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">],</span> <span class="n">frac</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="mi">14</span><span class="p">)[:,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">GER_mean</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Jahr</th>
      <th>Jahresmitteltemperatur [Â°C]</th>
      <th>Jahresmitteltemperaturabweichung [Â°C]</th>
      <th>Lowess(own)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>1881</td>
      <td>7.3352</td>
      <td>-0.482663</td>
      <td>0.208028</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1882</td>
      <td>8.3661</td>
      <td>0.548237</td>
      <td>0.179543</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1883</td>
      <td>7.9099</td>
      <td>0.092037</td>
      <td>0.132242</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1884</td>
      <td>8.5892</td>
      <td>0.771337</td>
      <td>0.070696</td>
    </tr>
    <tr>
      <th>5</th>
      <td>1885</td>
      <td>7.7726</td>
      <td>-0.045263</td>
      <td>-0.005329</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>136</th>
      <td>2016</td>
      <td>9.5000</td>
      <td>1.682137</td>
      <td>2.021745</td>
    </tr>
    <tr>
      <th>137</th>
      <td>2017</td>
      <td>9.6000</td>
      <td>1.782137</td>
      <td>2.172035</td>
    </tr>
    <tr>
      <th>138</th>
      <td>2018</td>
      <td>10.5000</td>
      <td>2.682137</td>
      <td>2.314417</td>
    </tr>
    <tr>
      <th>139</th>
      <td>2019</td>
      <td>10.3000</td>
      <td>2.482137</td>
      <td>2.461835</td>
    </tr>
    <tr>
      <th>140</th>
      <td>2020</td>
      <td>10.4000</td>
      <td>2.582137</td>
      <td>2.614470</td>
    </tr>
  </tbody>
</table>
<p>140 rows Ã— 4 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;hide-input&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">}</span>
<span class="c1"># Grafische Darstellung der Daten und GlÃ¤ttung aus Deutschland:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">14</span><span class="p">;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Jahresmitteltemperaturabweichung [Â°C]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Jahr&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">],</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahresmitteltemperaturabweichung [Â°C]&quot;</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:gray&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Werte&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">],</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Lowess(own)&quot;</span><span class="p">],</span><span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>  <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:green&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;eigene GlÃ¤ttung (LOWESS f=1/14)&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/Datenanalyse_47_0.png" src="../../_images/Datenanalyse_47_0.png" />
</div>
</div>
</div>
<div class="section" id="aufgabe-2-daten-zur-getrennten-betrachtung-von-land-und-ozeanerwarmung">
<h3>Aufgabe 2: Daten zur getrennten Betrachtung von Land- und OzeanerwÃ¤rmung<a class="headerlink" href="#aufgabe-2-daten-zur-getrennten-betrachtung-von-land-und-ozeanerwarmung" title="Permalink to this headline">Â¶</a></h3>
<p>Unter diesem Link <a class="reference external" href="https://data.giss.nasa.gov/gistemp/graphs_v4/graph_data/Temperature_Anomalies_over_Land_and_over_Ocean/graph.csv">https://data.giss.nasa.gov/gistemp/graphs_v4/graph_data/Temperature_Anomalies_over_Land_and_over_Ocean/graph.csv</a> findest du die Messdaten fÃ¼r die ErwÃ¤rmung an LandoberflÃ¤che und an der OzeanoberflÃ¤che. Lese die Daten in ein DataFrame <code class="docutils literal notranslate"><span class="pre">global_mean_sep</span></code> ein und stelle sie grafisch dar. Beschrifte das Diagramm entsprechend!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;hide-input&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">}</span>
<span class="n">link</span> <span class="o">=</span> <span class="s2">&quot;https://data.giss.nasa.gov/gistemp/graphs_v4/graph_data/Temperature_Anomalies_over_Land_and_over_Ocean/graph.csv&quot;</span>
<span class="n">global_mean_sep</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">link</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span> 
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;hide-input&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">}</span>
<span class="n">global_mean_sep</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Year</th>
      <th>Land_Annual</th>
      <th>Lowess(5)</th>
      <th>Ocean_Annual</th>
      <th>Lowess(5).1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1880</td>
      <td>-0.61</td>
      <td>-0.50</td>
      <td>-0.05</td>
      <td>0.01</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1881</td>
      <td>-0.41</td>
      <td>-0.54</td>
      <td>0.01</td>
      <td>-0.02</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1882</td>
      <td>-0.50</td>
      <td>-0.57</td>
      <td>0.00</td>
      <td>-0.06</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1883</td>
      <td>-0.60</td>
      <td>-0.61</td>
      <td>-0.06</td>
      <td>-0.09</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1884</td>
      <td>-0.78</td>
      <td>-0.64</td>
      <td>-0.15</td>
      <td>-0.12</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>137</th>
      <td>2017</td>
      <td>1.36</td>
      <td>1.33</td>
      <td>0.64</td>
      <td>0.64</td>
    </tr>
    <tr>
      <th>138</th>
      <td>2018</td>
      <td>1.20</td>
      <td>1.35</td>
      <td>0.60</td>
      <td>0.64</td>
    </tr>
    <tr>
      <th>139</th>
      <td>2019</td>
      <td>1.40</td>
      <td>1.37</td>
      <td>0.68</td>
      <td>0.63</td>
    </tr>
    <tr>
      <th>140</th>
      <td>2020</td>
      <td>1.56</td>
      <td>1.39</td>
      <td>0.67</td>
      <td>0.63</td>
    </tr>
    <tr>
      <th>141</th>
      <td>2021</td>
      <td>1.28</td>
      <td>1.40</td>
      <td>0.56</td>
      <td>0.62</td>
    </tr>
  </tbody>
</table>
<p>142 rows Ã— 5 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;hide-input&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">}</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">14</span><span class="p">;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">global_mean_sep</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span><span class="n">global_mean_sep</span><span class="p">[</span><span class="s2">&quot;Land_Annual&quot;</span><span class="p">],</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:gray&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Land Werte&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">global_mean_sep</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span><span class="n">global_mean_sep</span><span class="p">[</span><span class="s2">&quot;Ocean_Annual&quot;</span><span class="p">],</span> <span class="n">lw</span><span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:blue&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Ozean Werte&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">global_mean_sep</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span><span class="n">global_mean_sep</span><span class="p">[</span><span class="s2">&quot;Lowess(5)&quot;</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>  <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:gray&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;GlÃ¤ttung (NASA) Land&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">global_mean_sep</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span><span class="n">global_mean_sep</span><span class="p">[</span><span class="s2">&quot;Lowess(5).1&quot;</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>  <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:blue&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;GlÃ¤ttung (NASA) Ozean&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Jahresmitteltemperaturabweichung [Â°C]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Jahr&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/Datenanalyse_51_0.png" src="../../_images/Datenanalyse_51_0.png" />
</div>
</div>
</div>
<div class="section" id="aufgabe-3-vergleich-der-datensets">
<h3>Aufgabe 3: Vergleich der Datensets<a class="headerlink" href="#aufgabe-3-vergleich-der-datensets" title="Permalink to this headline">Â¶</a></h3>
<p>Stell folgende Daten zusammen dar:</p>
<ul class="simple">
<li><p>global: Land+Ozean (geglÃ¤ttet) &lt;- NASA</p></li>
<li><p>global: Land (geglÃ¤ttet) &lt;- NASA</p></li>
<li><p>Deutschland: Land (Werte) &lt;- DWD (Deutscher Wetterdienst)</p></li>
<li><p>Deutschland: Land (geglÃ¤ttet) &lt;- DWD (Deutscher Wetterdienst)</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;hide-input&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">}</span> 
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">14</span><span class="p">;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">global_mean_sep</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span><span class="n">global_mean_sep</span><span class="p">[</span><span class="s2">&quot;Lowess(5)&quot;</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>  <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:gray&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Land GlÃ¤ttung (NASA) &quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">global_mean_sep</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span><span class="n">global_mean_sep</span><span class="p">[</span><span class="s2">&quot;Lowess(5).1&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">global_mean_sep</span><span class="p">[</span><span class="s2">&quot;Lowess(5)&quot;</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>  <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:blue&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Land + Ozean GlÃ¤ttung (NASA) &quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">],</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahresmitteltemperaturabweichung [Â°C]&quot;</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:green&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Werte DWD&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">],</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Lowess(own)&quot;</span><span class="p">],</span><span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>  <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:green&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;eigene GlÃ¤ttung (LOWESS f=1/14) DWD&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Jahresmitteltemperaturabweichung [Â°C]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Jahr&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/Datenanalyse_53_0.png" src="../../_images/Datenanalyse_53_0.png" />
</div>
</div>
</div>
<div class="section" id="aufgabe-4-vergleich-der-grafik-mit-leopoldina">
<h3>Aufgabe 4: Vergleich der Grafik mit Leopoldina<a class="headerlink" href="#aufgabe-4-vergleich-der-grafik-mit-leopoldina" title="Permalink to this headline">Â¶</a></h3>
<p>Vergleichen wir diese Darstellung nun mal mit einer aus dem <a class="reference external" href="https://doi.org/10.26164/leopoldina_03_00327">Factsheet der Leopoldina</a>:</p>
<p>Nationale Akademie der Wissenschaften Leopoldina (2021): Klimawandel: Ursachen,
Folgen und HandlungsmÃ¶glichkeiten. Halle (Saale).</p>
<p><img alt="" src="../../_images/FactSheetLeopoldina_TempGer.png" /></p>
<p>Hierbei wurde scheinbar eine sehr starke GlÃ¤ttung der Messdaten verwendet.
ErhÃ¶he also den Wert <code class="docutils literal notranslate"><span class="pre">frac</span></code> fÃ¼r die LOWESS Methode fÃ¼r beide MesssÃ¤tze <code class="docutils literal notranslate"><span class="pre">global_mean</span></code>(NASA) und <code class="docutils literal notranslate"><span class="pre">GER_mean</span></code> (Deutscher Wetterdienst) und prÃ¼fe, ob wir in Ã¤hnliche Bereiche kommen. Gib ebenfalls den Temperaturanstieg Ã¼ber die letzten 40 Jahre an (mittels linearer Regression).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;hide-input&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">}</span> 
<span class="c1"># GlÃ¤ttung:</span>
<span class="kn">from</span> <span class="nn">statsmodels.nonparametric.smoothers_lowess</span> <span class="kn">import</span> <span class="n">lowess</span>
<span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Lowess(own3)&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lowess</span><span class="p">(</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahresmitteltemperaturabweichung [Â°C]&quot;</span><span class="p">],</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">],</span> <span class="n">frac</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)[:,</span><span class="mi">1</span><span class="p">]</span>
<span class="n">GER_mean_Lowess_own3_mean_until_1910</span> <span class="o">=</span> <span class="n">GER_mean</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">1910</span><span class="p">,</span><span class="s2">&quot;Lowess(own3)&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">mean</span><span class="p">()</span>
<span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Lowess(own3)&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Lowess(own3)&quot;</span><span class="p">]</span> <span class="o">-</span> <span class="n">GER_mean_Lowess_own3_mean_until_1910</span>

<span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Lowess(own)&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">lowess</span><span class="p">(</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;No_Smoothing&quot;</span><span class="p">],</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span> <span class="n">frac</span><span class="o">=</span><span class="mi">1</span><span class="o">/</span><span class="mi">3</span><span class="p">)[:,</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;tags&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;hide-input&quot;</span><span class="p">,</span>
    <span class="p">]</span>
<span class="p">}</span> 
<span class="c1"># Grafische Darstellung:</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;default&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">14</span><span class="p">;</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;No_Smoothing&quot;</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>  <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:gray&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Werte NASA &quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Lowess(own3)&quot;</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>  <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:gray&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;eigene GlÃ¤ttung (LOWESS f=1/3) NASA &quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">],</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahresmitteltemperaturabweichung [Â°C]&quot;</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:green&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Werte DWD&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">],</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Lowess(own3)&quot;</span><span class="p">],</span><span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>  <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:green&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;eigene GlÃ¤ttung (LOWESS f=1/3) DWD&quot;</span><span class="p">);</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Jahresmitteltemperaturabweichung [Â°C]&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Jahr&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">();</span>
<span class="n">plt</span><span class="o">.</span><span class="n">grid</span><span class="p">();</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="nn">~/opt/anaconda3/lib/python3.9/site-packages/pandas/core/indexes/base.py</span> in <span class="ni">get_loc</span><span class="nt">(self, key, method, tolerance)</span>
<span class="g g-Whitespace">   </span><span class="mi">3360</span>             <span class="k">try</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3361</span>                 <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3362</span>             <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/site-packages/pandas/_libs/index.pyx</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/site-packages/pandas/_libs/index.pyx</span> in <span class="ni">pandas._libs.index.IndexEngine.get_loc</span><span class="nt">()</span>

<span class="nn">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="nn">pandas/_libs/hashtable_class_helper.pxi</span> in <span class="ni">pandas._libs.hashtable.PyObjectHashTable.get_item</span><span class="nt">()</span>

<span class="ne">KeyError</span>: &#39;Lowess(own3)&#39;

<span class="n">The</span> <span class="n">above</span> <span class="n">exception</span> <span class="n">was</span> <span class="n">the</span> <span class="n">direct</span> <span class="n">cause</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">exception</span><span class="p">:</span>

<span class="ne">KeyError</span><span class="g g-Whitespace">                                  </span>Traceback (most recent call last)
<span class="o">/</span><span class="n">var</span><span class="o">/</span><span class="n">folders</span><span class="o">/</span><span class="mi">6</span><span class="n">d</span><span class="o">/</span><span class="mi">574</span><span class="n">ptfzx6v9_j7pylzkngrkm0000gp</span><span class="o">/</span><span class="n">T</span><span class="o">/</span><span class="n">ipykernel_23969</span><span class="o">/</span><span class="mf">3276239546.</span><span class="n">py</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="g g-Whitespace">      </span><span class="mi">9</span> <span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;font.size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">14</span><span class="p">;</span>
<span class="g g-Whitespace">     </span><span class="mi">10</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;No_Smoothing&quot;</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>  <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:gray&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;x&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Werte NASA &quot;</span><span class="p">);</span>
<span class="ne">---&gt; </span><span class="mi">11</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">],</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Lowess(own3)&quot;</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>  <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:gray&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;eigene GlÃ¤ttung (LOWESS f=1/3) NASA &quot;</span><span class="p">);</span>
<span class="g g-Whitespace">     </span><span class="mi">12</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">],</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahresmitteltemperaturabweichung [Â°C]&quot;</span><span class="p">],</span> <span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s2">&quot;s&quot;</span><span class="p">,</span> <span class="n">ms</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:green&quot;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;Werte DWD&quot;</span><span class="p">);</span>
<span class="g g-Whitespace">     </span><span class="mi">13</span> <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">],</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Lowess(own3)&quot;</span><span class="p">],</span><span class="n">ls</span><span class="o">=</span><span class="s2">&quot;-&quot;</span><span class="p">,</span><span class="n">lw</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>  <span class="n">color</span><span class="o">=</span><span class="s2">&quot;tab:green&quot;</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s2">&quot;eigene GlÃ¤ttung (LOWESS f=1/3) DWD&quot;</span><span class="p">);</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/site-packages/pandas/core/frame.py</span> in <span class="ni">__getitem__</span><span class="nt">(self, key)</span>
<span class="g g-Whitespace">   </span><span class="mi">3456</span>             <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">nlevels</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
<span class="g g-Whitespace">   </span><span class="mi">3457</span>                 <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getitem_multilevel</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="ne">-&gt; </span><span class="mi">3458</span>             <span class="n">indexer</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3459</span>             <span class="k">if</span> <span class="n">is_integer</span><span class="p">(</span><span class="n">indexer</span><span class="p">):</span>
<span class="g g-Whitespace">   </span><span class="mi">3460</span>                 <span class="n">indexer</span> <span class="o">=</span> <span class="p">[</span><span class="n">indexer</span><span class="p">]</span>

<span class="nn">~/opt/anaconda3/lib/python3.9/site-packages/pandas/core/indexes/base.py</span> in <span class="ni">get_loc</span><span class="nt">(self, key, method, tolerance)</span>
<span class="g g-Whitespace">   </span><span class="mi">3361</span>                 <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_engine</span><span class="o">.</span><span class="n">get_loc</span><span class="p">(</span><span class="n">casted_key</span><span class="p">)</span>
<span class="g g-Whitespace">   </span><span class="mi">3362</span>             <span class="k">except</span> <span class="ne">KeyError</span> <span class="k">as</span> <span class="n">err</span><span class="p">:</span>
<span class="ne">-&gt; </span><span class="mi">3363</span>                 <span class="k">raise</span> <span class="ne">KeyError</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="kn">from</span> <span class="nn">err</span>
<span class="g g-Whitespace">   </span><span class="mi">3364</span> 
<span class="g g-Whitespace">   </span><span class="mi">3365</span>         <span class="k">if</span> <span class="n">is_scalar</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="ow">and</span> <span class="n">isna</span><span class="p">(</span><span class="n">key</span><span class="p">)</span> <span class="ow">and</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hasnans</span><span class="p">:</span>

<span class="ne">KeyError</span>: &#39;Lowess(own3)&#39;
</pre></div>
</div>
<img alt="../../_images/Datenanalyse_57_1.png" src="../../_images/Datenanalyse_57_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">x</span><span class="o">=</span><span class="n">GER_mean</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1980</span><span class="p">,</span><span class="s2">&quot;Jahr&quot;</span><span class="p">]</span>
<span class="n">y</span><span class="o">=</span><span class="n">GER_mean</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">GER_mean</span><span class="p">[</span><span class="s2">&quot;Jahr&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1980</span><span class="p">,</span><span class="s2">&quot;Jahresmitteltemperatur [Â°C]&quot;</span><span class="p">]</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># 1. Wert = Anstieg , 2. Wert = Schnittpunkt mit y-Achse</span>
<span class="n">y_model</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">model</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Temperaturanstieg pro Jahr (von 1980 bis 2020): </span><span class="si">{</span><span class="n">model</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">Â°C/Jahr&quot;</span><span class="p">)</span>

<span class="n">x</span><span class="o">=</span><span class="n">global_mean</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1980</span><span class="p">,</span><span class="s2">&quot;Year&quot;</span><span class="p">]</span>
<span class="n">y</span><span class="o">=</span><span class="n">global_mean</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">global_mean</span><span class="p">[</span><span class="s2">&quot;Year&quot;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">1980</span><span class="p">,</span><span class="s2">&quot;No_Smoothing&quot;</span><span class="p">]</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">polyfit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># 1. Wert = Anstieg , 2. Wert = Schnittpunkt mit y-Achse</span>
<span class="n">y_model</span> <span class="o">=</span> <span class="n">model</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">x</span><span class="o">+</span><span class="n">model</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Temperaturanstieg pro Jahr (von 1980 bis 2020): </span><span class="si">{</span><span class="n">model</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">Â°C/Jahr&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "Kisleif/mtbook",
            ref: "gh-pages",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./content/week1"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="Messabweichungen.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Messabweichungen</p>
        </div>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      Durch Katharina-S. Isleif<br/>
    
        &copy; Urheberrechte Â© 2021.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>